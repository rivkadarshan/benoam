<!-- cta-registration.component.html -->
<section class="cta-registration-section" id="registration">
  <div class="container">
    <!-- Header -->
    <div class="section-header">
      <div class="header-icon">🔹</div>
      <h2 class="section-title">כל מה שאתה צריך לעשות עכשיו –</h2>
      <p class="section-subtitle">
        להכניס את הפרטים שלך למטה ולקבל גישה מיידית ללינק של הוובינר:
      </p>
      <div class="arrow-down">
        <span>👇</span>
        <span>👇</span>
        <span>👇</span>
      </div>
    </div>

    <!-- Registration Card -->
    <div class="registration-card">
      <!-- Seats Counter -->
      <div class="seats-counter">
        <div class="counter-icon">🔥</div>
        <div class="counter-content">
          <div class="counter-number">{{ availableSeats }}</div>
          <div class="counter-label">מקומות נותרו</div>
        </div>
        <div class="counter-total">מתוך 200</div>
      </div>

      <!-- Form -->
      <form class="registration-form" (ngSubmit)="onSubmit()" #registrationForm="ngForm">
        <!-- Name Field -->
        <div class="form-group">
          <label for="name" class="form-label">שם מלא *</label>
          <input 
            type="text" 
            id="name" 
            name="name"
            class="form-input"
            [(ngModel)]="formData.name"
            required
            placeholder="הזן את שמך המלא"
          />
        </div>

        <!-- Phone Field -->
        <div class="form-group">
          <label for="phone" class="form-label">מספר טלפון / וואטסאפ *</label>
          <input 
            type="tel" 
            id="phone" 
            name="phone"
            class="form-input"
            [(ngModel)]="formData.phone"
            required
            pattern="[0-9]{10}"
            placeholder="05X-XXX-XXXX"
          />
        </div>

        <!-- Email Field -->
        <div class="form-group">
          <label for="email" class="form-label">אימייל *</label>
          <input 
            type="email" 
            id="email" 
            name="email"
            class="form-input"
            [(ngModel)]="formData.email"
            required
            email
            placeholder="example@mail.com"
          />
        </div>

        <!-- Privacy Consent -->
        <div class="form-group checkbox-group">
          <label class="checkbox-label">
            <input 
              type="checkbox" 
              name="privacyConsent"
              [(ngModel)]="formData.privacyConsent"
              class="checkbox-input"
              required
            />
            <span class="checkbox-custom"></span>
            <span class="checkbox-text">
              אני מאשר קבלת עדכונים ומסכים ל<a href="#" class="policy-link">תנאי השימוש</a>
            </span>
          </label>
        </div>

        <!-- Submit Button -->
        <button 
          type="submit" 
          class="submit-button"
          [disabled]="!registrationForm.valid || isSubmitting"
          [class.submitting]="isSubmitting"
        >
          <span class="button-icon" *ngIf="!isSubmitting">🚀</span>
          <span class="button-text" *ngIf="!isSubmitting">אני בפנים. שלח לי את הלינק</span>
          <span class="button-text" *ngIf="isSubmitting">שולח...</span>
        </button>

        <!-- Success Message -->
        <div class="success-message" *ngIf="showSuccess">
          <div class="success-icon">✓</div>
          <div class="success-content">
            <h4 class="success-title">נרשמת בהצלחה!</h4>
            <p class="success-text">הלינק לוובינר נשלח אליך עכשיו לווטסאפ ולמייל</p>
          </div>
        </div>
      </form>

      <!-- Warning Notice -->
      <div class="warning-notice">
        <div class="notice-icon">📌</div>
        <div class="notice-content">
          <p class="notice-text">
            <strong>שים לב</strong> – מספר המקומות מוגבל (לא סיסמה).
            <br>
            רק ל-<span class="highlight-number">200 הראשונים</span>.
          </p>
        </div>
      </div>

      <!-- Trust Badges -->
      <div class="trust-badges">
        <div class="trust-badge">
          <span class="badge-icon">🔒</span>
          <span class="badge-text">מאובטח</span>
        </div>
        <div class="trust-badge">
          <span class="badge-icon">⚡</span>
          <span class="badge-text">גישה מיידית</span>
        </div>
        <div class="trust-badge">
          <span class="badge-icon">🤫</span>
          <span class="badge-text">דיסקרטי</span>
        </div>
      </div>
    </div>

    <!-- Social Proof -->
    <div class="live-registrations">
      <div class="live-icon">🔴</div>
      <p class="live-text">{{ recentRegistrations }} אנשים נרשמו ב-24 השעות האחרונות</p>
    </div>
  </div>

  <!-- Background Elements -->
  <div class="bg-elements">
    <div class="element element-1"></div>
    <div class="element element-2"></div>
  </div>
</section>